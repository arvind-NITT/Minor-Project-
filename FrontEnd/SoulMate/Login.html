<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="styles.css">
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
    rel="stylesheet">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Lakki+Reddy&display=swap');
</style>
    <title>Document</title>
</head>
<body>
           <div class="container w-75  d-flex p-5 ">
            <div class="LeftContainer" style="font-family: Playfair Display, serif; ; background-color: rgb(250, 210, 157); width: 50%;" >
                  <h2 style="font-family: Playfair Display, serif;">
                    Now
                  </h2>
                  <h1 style="font-family: Playfair Display, serif; color: rgb(68, 59, 51); font-weight: 800; font-size: 55px;">
                    Find Your life partner 
                  </h1>
                  <h2 style="font-family: Playfair Display, serif;">
                    Easy and fast
                  </h2>
                  <div class="login_couple_photo">
                    <img src="./Images/login-couple.png" alt="" srcset="" style="width:230px;">
                  </div>
                  <div class="logo-bg"></div>
            </div>
            <form class="row w-75 container container-md bg-white g-3 p-5 rounded" id="loginForm">
                <div class="heading_login" >
                     <h7 style=" font-family: Poppins, sans-serif;
  color: #66451c;">START FOR FREE</h7>
                     <H3 style="font-family: Playfair Display, serif;">SIGN UP TO MATRIMONY</H3>
                     <h7 style=" font-family: Poppins, sans-serif;
  color: #66451c;">Not a member ? <a href="./UserPage.html">Create Account</a></h7>
                </div>
                <div class="">
                    <div class="mb-3">
                        <label for="Email" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="Email" aria-describedby="emailHelp">
                        <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
                      </div>
                      <div class="mb-3">
                        <label for="Password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="Password">
                      </div>
                      <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="exampleCheck1">Remember Me</label>
                      </div>
                      <button type="submit" class="btn btn-secondary col-6">Login</button>
            </div>
               
              </form>
           </div>
           <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
           integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
           crossorigin="anonymous"></script>
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
           integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
           crossorigin="anonymous"></script>
       <!-- <script src="users.js">
   
       </script> -->
       <script src="https://kit.fontawesome.com/70e4c7df19.js" crossorigin="anonymous"></script>
       <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
       <script>
        $(document).ready(function() {
            $('#loginForm').on('submit', function(e) {
                e.preventDefault();

                var email = $('#Email').val();
                var password = $('#Password').val();

                fetch('http://localhost:5157/api/User/Login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json',
                        'Access-Control-Allow-Origin':"*"
                    },
                    body: JSON.stringify({
                        email: email,
                        password: password
                    })
                })
                .then(response => {
                    if (!response.ok) {
                        // throw new Error('Network response was not ok');
                        alert('Login failed: ' + data.message);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Response:', data);
                    localStorage.setItem('token',data.token)
                        window.location.href = './UserProfile.html';
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred: ' + error.message);
                });
            });
        });
    </script>
</body>
</html>